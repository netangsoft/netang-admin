import{_ as e,M as p,p as o,q as c,R as n,t as s,N as t,a1 as i}from"./framework-204010b2.js";const l={},u=n("h1",{id:"getdata-获取公共数据",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#getdata-获取公共数据","aria-hidden":"true"},"#"),s(" getData 获取公共数据")],-1),r={class:"custom-container tip"},d=n("p",{class:"custom-container-title"},"TIP",-1),k=n("code",null,"@netang/quasar/utils/getData.js",-1),v={href:"https://github.com/netangsoft/netang-quasar/blob/main/utils/getData.js",target:"_blank",rel:"noopener noreferrer"},m={href:"https://gitee.com/jinmarcus/netang-quasar/blob/main/utils/getData.js",target:"_blank",rel:"noopener noreferrer"},b=i(`<ul><li>请求公共数据地址设置</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> settings <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@netang/quasar/utils/config&#39;</span>

<span class="token doc-comment comment">/**
 * 配置设置
 */</span>
<span class="token function">settings</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// 用户配置</span>
    <span class="token literal-property property">userConfig</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">apiDataUrl</span><span class="token operator">:</span> <span class="token string">&#39;公共数据地址&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>示例</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>
<span class="token comment">// 页面状态</span>
<span class="token keyword">const</span> pageStatus <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token comment">// 空状态描述</span>
<span class="token keyword">const</span> emptyDescription <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// 仓库列表</span>
<span class="token keyword">const</span> warehouseLists <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// 获取仓库列表</span>
<span class="token keyword">const</span> res1 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token string">&#39;get_warehouse&#39;</span><span class="token punctuation">,</span> pageStatus<span class="token punctuation">,</span> emptyDescription<span class="token punctuation">,</span> warehouseLists<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>res1 <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>warehouseLists<span class="token punctuation">.</span>value<span class="token punctuation">)</span>

<span class="token comment">// 获取获取多条公共数据</span>
<span class="token keyword">const</span> res2 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;get_admin_group&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;get_admin_post&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;get_admin_role&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> pageStatus<span class="token punctuation">,</span> emptyDescription<span class="token punctuation">)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>res2 <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> res2<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> res2<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>类型</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">await</span> <span class="token function">getData</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> pageStatus<span class="token punctuation">,</span> emptyDescription<span class="token punctuation">,</span> refValue<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><table><thead><tr><th>参数名</th><th>说明</th><th>类型</th><th>默认值</th></tr></thead><tbody><tr><td>url</td><td>请求地址</td><td><code>String</code> / <code>Array</code></td><td>-</td></tr><tr><td>pageStatus</td><td>页面状态</td><td><code>ref(Boolean)</code></td><td>-</td></tr><tr><td>emptyDescription</td><td>空状态描述</td><td><code>ref(String)</code></td><td>-</td></tr><tr><td>refValue</td><td>请求成功后设置值</td><td><code>ref()</code></td><td>-</td></tr></tbody></table>`,7);function g(f,h){const a=p("ExternalLinkIcon");return o(),c("div",null,[u,n("div",r,[d,n("p",null,[k,s(),n("a",v,[s("Github"),t(a)]),s(),n("a",m,[s("Gitee"),t(a)])])]),b])}const y=e(l,[["render",g],["__file","getData.html.vue"]]);export{y as default};
