import{_ as n,M as s,p as o,q as c,R as t,t as d,N as e,a1 as r}from"./framework-204010b2.js";const l={},i=t("h1",{id:"table-表格",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#table-表格","aria-hidden":"true"},"#"),d(" $table 表格")],-1),p={class:"custom-container tip"},u=t("p",{class:"custom-container-title"},"TIP",-1),b=t("code",null,"@netang/quasar/utils/$table.js",-1),h={href:"https://github.com/netangsoft/netang-quasar/blob/main/utils/%24table.js",target:"_blank",rel:"noopener noreferrer"},k={href:"https://gitee.com/jinmarcus/netang-quasar/blob/main/utils/%24table.js",target:"_blank",rel:"noopener noreferrer"},m=t("p",null,"表格工具",-1),v=r(`<h2 id="table-create" tabindex="-1"><a class="header-anchor" href="#table-create" aria-hidden="true">#</a> $table.create</h2><p>创建表格实例</p><ul><li>类型</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>$table<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>options<span class="token operator">:</span> Object<span class="token punctuation">)</span><span class="token operator">:</span> Object
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="options-参数" tabindex="-1"><a class="header-anchor" href="#options-参数" aria-hidden="true">#</a> options 参数</h3><table><thead><tr><th>参数名</th><th>说明</th><th>类型</th><th>可选值</th><th>默认值</th><th>示例</th></tr></thead><tbody><tr><td>path</td><td>路由路径</td><td><code>String</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td>query</td><td>路由参数</td><td><code>Object</code></td><td>-</td><td>{ }</td><td>-</td></tr><tr><td>data</td><td>附加请求数据</td><td><code>Object</code></td><td>-</td><td>{ }</td><td>-</td></tr><tr><td>rowKey</td><td>表格行唯一键值</td><td><code>String</code></td><td>-</td><td>id</td><td>-</td></tr><tr><td>selection</td><td>选择类型</td><td><code>String</code></td><td><code>none</code> / <code>single</code> / <code>multiple</code></td><td>single</td><td>-</td></tr><tr><td>separator</td><td>分隔栏</td><td><code>String</code></td><td><code>horizontal</code> / <code>vertical</code> / <code>cell</code> / <code>none</code></td><td>cell</td><td>-</td></tr><tr><td>selected</td><td>初始已选数据</td><td><code>Array</code></td><td>-</td><td>[ ]</td><td>-</td></tr><tr><td>loading</td><td>初始表格加载状态</td><td><code>Boolean</code></td><td>-</td><td>false</td><td>-</td></tr><tr><td>columns</td><td>表格列数据(对象数组)</td><td><code>Array</code></td><td>-</td><td>[ ]</td><td>-</td></tr><tr><td>visibleColumns</td><td>初始可见列</td><td><code>Array</code></td><td>-</td><td>[ ]</td><td>-</td></tr><tr><td>rows</td><td>表格行数据</td><td><code>Array</code></td><td>-</td><td>[ ]</td><td>-</td></tr><tr><td>pagination</td><td>表格翻页参数</td><td><code>Object</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td>rowsPerPageOptions</td><td>每页显示行数选项</td><td><code>Array</code></td><td>-</td><td>[ 30, 40, 50, 100, 200, 500, 1000 ]</td><td>-</td></tr><tr><td>request</td><td>自定义请求方法</td><td><code>Function</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td>formatRow</td><td>格式化单条数据</td><td><code>Function</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td>httpSettings</td><td>http 设置</td><td><code>Object</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td>search</td><td>是否开启初始搜素</td><td><code>Boolean</code></td><td>-</td><td>true</td><td>-</td></tr><tr><td>summary</td><td>是否开启合计</td><td><code>Boolean</code></td><td>-</td><td>false</td><td>-</td></tr><tr><td>searchFromQuery</td><td>从参数中获取搜索值</td><td><code>Boolean</code></td><td>-</td><td>true</td><td>-</td></tr><tr><td>showGrid</td><td>是否显示宫格</td><td><code>Boolean</code></td><td>-</td><td>true</td><td>-</td></tr><tr><td>showVisibleColumns</td><td>是否显示可见列</td><td><code>Boolean</code></td><td>-</td><td>true</td><td>-</td></tr><tr><td>cache</td><td>是否开启缓存</td><td><code>Boolean</code></td><td>-</td><td>true</td><td>-</td></tr><tr><td>refreshResetSelected</td><td>是否刷新后清空已选数据</td><td><code>Boolean</code></td><td>-</td><td>true</td><td>-</td></tr><tr><td>rowClick</td><td>单击表格行事件</td><td><code>Function</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td>rowDblClick</td><td>双击表格行事件</td><td><code>Function</code></td><td>-</td><td>-</td><td>-</td></tr></tbody></table><h4 id="pagination" tabindex="-1"><a class="header-anchor" href="#pagination" aria-hidden="true">#</a> pagination</h4><p>表格翻页参数</p><table><thead><tr><th>参数名</th><th>说明</th><th>类型</th><th>默认值</th></tr></thead><tbody><tr><td>page</td><td>页码</td><td><code>Number</code></td><td>1</td></tr><tr><td>rowsPerPage</td><td>每页的数据条数</td><td><code>Number</code></td><td>30</td></tr><tr><td>rowsNumber</td><td>数据总数(服务器返回)</td><td><code>Number</code></td><td>1</td></tr><tr><td>sortBy</td><td>排序字段</td><td><code>String</code></td><td>null</td></tr><tr><td>descending</td><td>是否降序排列</td><td><code>Boolean</code></td><td>true</td></tr></tbody></table><h4 id="request" tabindex="-1"><a class="header-anchor" href="#request" aria-hidden="true">#</a> request</h4><p>格式化表格按钮</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 创建表格实例</span>
<span class="token keyword">const</span> $table <span class="token operator">=</span> $n<span class="token punctuation">.</span>$table<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>

    <span class="token comment">// 自定义请求方法</span>
    <span class="token keyword">async</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> data<span class="token punctuation">,</span> props<span class="token punctuation">,</span> rows<span class="token punctuation">,</span> selected <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">await</span> $n<span class="token punctuation">.</span><span class="token function">http</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;...&#39;</span><span class="token punctuation">,</span>
            data<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>参数名</th><th>说明</th><th>类型</th><th>示例</th></tr></thead><tbody><tr><td>data</td><td>请求数据</td><td><code>Object</code></td><td>-</td></tr><tr><td>props</td><td>表格声明属性</td><td><code>Array</code></td><td>-</td></tr><tr><td>rows</td><td>表格行数据</td><td><code>Array</code></td><td>-</td></tr><tr><td>selected</td><td>表格选中数据</td><td><code>Array</code></td><td>-</td></tr></tbody></table><h4 id="formatrow" tabindex="-1"><a class="header-anchor" href="#formatrow" aria-hidden="true">#</a> formatRow</h4><p>格式化单条数据</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 创建表格实例</span>
<span class="token keyword">const</span> $table <span class="token operator">=</span> $n<span class="token punctuation">.</span>$table<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    
    <span class="token comment">// 格式化单条数据</span>
    <span class="token function">formatRow</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> row<span class="token punctuation">,</span> rows<span class="token punctuation">,</span> selected <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        row<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">&#39;[测试]&#39;</span> <span class="token operator">+</span> row<span class="token punctuation">.</span>title
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>参数名</th><th>说明</th><th>类型</th><th>示例</th></tr></thead><tbody><tr><td>row</td><td>当前单条数据</td><td><code>Object</code></td><td>-</td></tr><tr><td>rows</td><td>表格行数据</td><td><code>Array</code></td><td>-</td></tr><tr><td>selected</td><td>表格已选数据</td><td><code>Array</code></td><td>-</td></tr></tbody></table><h4 id="rowclick" tabindex="-1"><a class="header-anchor" href="#rowclick" aria-hidden="true">#</a> rowClick</h4><p>单击表格行事件</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 创建表格实例</span>
<span class="token keyword">const</span> $table <span class="token operator">=</span> $n<span class="token punctuation">.</span>$table<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    
    <span class="token comment">// 单击表格行事件</span>
    <span class="token function">rowClick</span><span class="token punctuation">(</span><span class="token parameter">evt<span class="token punctuation">,</span> row<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="rowdblclick" tabindex="-1"><a class="header-anchor" href="#rowdblclick" aria-hidden="true">#</a> rowDblClick</h4><p>双击表格行事件</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 创建表格实例</span>
<span class="token keyword">const</span> $table <span class="token operator">=</span> $n<span class="token punctuation">.</span>$table<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    
    <span class="token comment">// 双击表格行事件</span>
    <span class="token function">rowDblClick</span><span class="token punctuation">(</span><span class="token parameter">evt<span class="token punctuation">,</span> row<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="返回数据" tabindex="-1"><a class="header-anchor" href="#返回数据" aria-hidden="true">#</a> 返回数据</h3><p>返回的数据可提供给 <code>&lt;q-table&gt;</code> 使用</p><table><thead><tr><th>参数名</th><th>说明</th><th>类型</th><th>可在 <code>&lt;q-table&gt;</code> 组件中使用</th></tr></thead><tbody><tr><td>routeFullPath</td><td>当前路由全路径</td><td><code>String</code></td><td>-</td></tr><tr><td>routePath</td><td>当前路由路径</td><td><code>String</code></td><td>-</td></tr><tr><td>routeQuery</td><td>当前路由参数</td><td><code>Object</code></td><td>-</td></tr><tr><td>getRoute</td><td>获取当前路由</td><td><code>Function</code></td><td>-</td></tr><tr><td>tableLoading</td><td>表格加载状态</td><td><code>ref(Boolean)</code></td><td>:loading=&quot;tableLoading&quot;</td></tr><tr><td>tableRowKey</td><td>表格行唯一键值</td><td><code>String</code></td><td>:row-key=&quot;tableRowKey&quot;</td></tr><tr><td>tableSelection</td><td>表格选择类型</td><td><code>ref(String)</code></td><td>:selection=&quot;tableSelection&quot;</td></tr><tr><td>tableSeparator</td><td>表格分隔栏</td><td><code>ref(String)</code></td><td>:separator=&quot;tableSeparator&quot;</td></tr><tr><td>tableRowsPerPageOptions</td><td>表格每页显示行数选项</td><td><code>Array</code></td><td>:rows-per-page-options=&quot;tableRowsPerPageOptions&quot;</td></tr><tr><td>tableColumns</td><td>表格列数据(对象数组)</td><td><code>Array</code></td><td>:columns=&quot;tableColumns&quot;</td></tr><tr><td>tableVisibleColumns</td><td>表格可见列</td><td><code>ref(Array)</code></td><td>:visible-columns=&quot;tableVisibleColumns&quot;</td></tr><tr><td>tableRows</td><td>表格行数据</td><td><code>ref(Array)</code></td><td>:rows=&quot;tableRows&quot;</td></tr><tr><td>tablePagination</td><td>表格翻页参数</td><td><code>ref(Object)</code></td><td>v-model:pagination=&quot;tablePagination&quot;</td></tr><tr><td>tableSelected</td><td>表格已选数据</td><td><code>ref(Array)</code></td><td>v-model:selected=&quot;tableSelected&quot;</td></tr><tr><td>tableFixedPowerBtns</td><td>固定在右边的权限按钮列表</td><td><code>computed</code></td><td>-</td></tr><tr><td>showTableFixed</td><td>是否显示固定在右边的权限按钮列表</td><td><code>computed</code></td><td>-</td></tr><tr><td>tableImgNames</td><td>表格图片标识</td><td><code>ref(Array)</code></td><td>可在插槽中使用</td></tr><tr><td>tableGrid</td><td>表格宫格</td><td><code>ref(Boolean)</code></td><td>:grid=&quot;tableGrid&quot;</td></tr><tr><td>tableSummary</td><td>表格合计</td><td><code>ref(Object)</code></td><td>可在插槽中使用</td></tr><tr><td>tableSearchValue</td><td>表格搜索数据</td><td><code>ref(Array)</code></td><td>-</td></tr><tr><td>tableSearchOptions</td><td>表格搜索参数</td><td><code>ref(Array)</code></td><td>-</td></tr><tr><td>setQuery</td><td>设置表格传参</td><td><code>Function</code></td><td>-</td></tr><tr><td>isTableLoaded</td><td>表格是否已加载</td><td><code>Function</code></td><td>-</td></tr><tr><td>tableLoad</td><td>表格加载(只加载一次)</td><td><code>Function</code></td><td>-</td></tr><tr><td>tableReload</td><td>表格重新加载</td><td><code>Function</code></td><td>-</td></tr><tr><td>tableRefresh</td><td>表格刷新</td><td><code>Function</code></td><td>-</td></tr><tr><td>tableSearchReset</td><td>表格搜索重置</td><td><code>Function</code></td><td>-</td></tr><tr><td>getTableRequestData</td><td>获取表格请求数据</td><td><code>Function</code></td><td>-</td></tr><tr><td>tableRequest</td><td>表格请求数据</td><td><code>Function</code></td><td>@request=&quot;tableRequest&quot;</td></tr><tr><td>tableRowClick</td><td>表格单击表格行</td><td><code>Function</code></td><td>@row-click=&quot;tableRowClick&quot;</td></tr><tr><td>tableRowDblclick</td><td>表格双击表格行</td><td><code>Function</code></td><td>@row-dblclick=&quot;currentTableRowDblclick&quot;</td></tr><tr><td>setTableSearchOptions</td><td>设置表格搜索参数</td><td><code>Function</code></td><td>-</td></tr></tbody></table><h2 id="table-config" tabindex="-1"><a class="header-anchor" href="#table-config" aria-hidden="true">#</a> $table.config</h2><p>获取表格配置</p><p>从 <code>src/tables</code> 文件夹中获取路由路径对应的表格配置</p><ul><li>示例</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>$table<span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span>routePath<span class="token punctuation">,</span> path<span class="token punctuation">,</span> defaultValue<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="options-参数-1" tabindex="-1"><a class="header-anchor" href="#options-参数-1" aria-hidden="true">#</a> options 参数</h3><table><thead><tr><th>参数名</th><th>说明</th><th>类型</th><th>示例</th></tr></thead><tbody><tr><td>routePath</td><td>路由路径</td><td><code>String</code></td><td>goods/goods/index</td></tr><tr><td>path</td><td>配置字段</td><td><code>String</code></td><td>columns</td></tr><tr><td>defaultValue</td><td>默认值（没有获取到配置时显示）</td><td><code>Any</code></td><td>[ ]</td></tr></tbody></table>`,33);function g(f,w){const a=s("ExternalLinkIcon");return o(),c("div",null,[i,t("div",p,[u,t("p",null,[b,d(),t("a",h,[d("Github"),e(a)]),d(),t("a",k,[d("Gitee"),e(a)])]),m]),v])}const q=n(l,[["render",g],["__file","table.html.vue"]]);export{q as default};
